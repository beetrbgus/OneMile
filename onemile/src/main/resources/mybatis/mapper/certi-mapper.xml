<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="certi">

	
	<insert id="insert" parameterType="CertiDto">
		insert into certi values(certi_seq.nextval,#{memberNo},#{email}, #{serial}, sysdate)
	</insert>
	
	
	
	<!-- <select id="insert" parameterType="String" resultType="int">
	merge into certi C
			using dual on (C.email = #{email})
		when matched then
			update set memberNo = #{memberNo}, serial = #{serial}, when = sysdate
		when not matched then
			insert(memberNo,email, serial, when) values(certi_seq.nextval,#{email}, #{serial}, sysdate)
	</select>  -->

	<select id="getNo" parameterType="String" resultType="int">
		select member_no from member where email = #{email}
	</select>
	
	<!-- 인증 성공 시 인증번호 삭제 -->
	<delete id="delete" parameterType="String">
		delete certi where 
	</delete>
	
</mapper>